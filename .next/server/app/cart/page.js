(()=>{var e={};e.id=5,e.ids=[5],e.modules={404:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>eu});var n=r(60687),s=r(85814),l=r.n(s),a=r(43210),o=r(60574),i=r(11860),c=r(30590),u=r(8693),d=r(31470),p=r(37590),m=r(68318),x=r(73255),f=r(75324);let h=(0,f.A)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);var v=r(70334);let b=(0,f.A)("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);var g=r(87955),y=r.n(g);function j({subtotal:e,totalAmount:t,discountAmount:r,taxAmount:s,setPopupOpen:a,code:o,setCode:i,setSelectedCoupon:u,selectedCoupon:d,createPaymentIntent:x,havingDefaultAddress:f,cashOnDelivery:g,type:y,paymentIntentLoader:j,loader:N}){let P=async()=>{try{let e=await (0,c.oE)(c.mN,{params:{coupon:o}});200===e.status&&(localStorage.setItem("coupon",JSON.stringify(e.data.data)),u(e.data.data))}catch(e){p.Ay.error(e?.response?.data?.message),i("")}},w=(0,m.A)();return(0,n.jsx)("div",{className:"flex h-96 col-span-5 flex-col",children:(0,n.jsx)("div",{className:" flex flex-col lg:pl-16",children:(0,n.jsxs)("div",{className:"mt-8 shadow border p-5 gap-2 flex flex-col border-gray/50 rounded-lg",children:["address"!=y?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("h5",{className:"text-lineblack text-md font-semibold",children:"Have a coupon?"}),""==a?null:(0,n.jsx)("div",{onClick:()=>a(!0),className:"text-lineblack capitalize underline underline-offset-4 cursor-pointer text-[0.8rem] items-center justify-center flex h-5 font-bold",children:"Select coupon"})]}),(0,n.jsx)("p",{className:"text-[.85rem] text-[#6C7275]",children:"Add your code for an instant cart discount"}),(0,n.jsxs)("div",{className:"flex border border-[#bebebe] rounded-sm justify-between h-10 items-center px-3",children:[(0,n.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,n.jsx)("img",{src:"/cart/Vector.png",className:"w-4 h-4 object-contain",alt:"icon"}),(0,n.jsx)("input",{className:"text-sm font-medium",type:"text",placeholder:"Coupon Code",value:o,maxLength:20,onChange:e=>{i(e.target.value),u("")}})]}),d?.id?(0,n.jsx)("div",{className:"text-blue cursor-pointer text-sm font-bold",children:"Applied"}):(0,n.jsx)("div",{onClick:P,className:"text-blue cursor-pointer text-sm font-semibold",children:"Apply"})]})]}):null,(0,n.jsx)("div",{className:"font-semibold mt-2",children:"Cart summary"}),(0,n.jsxs)("div",{className:"flex justify-between mt-2 gap-0.5 font-medium text-blue text-[.84rem]",children:[(0,n.jsx)("span",{className:"text-black",children:"Subtotal"}),(0,n.jsxs)("span",{className:"font-semibold",children:[(0,n.jsxs)("span",{className:"rs font-semibold text-black",children:["AED ",w(e)]})," "]})]}),(0,n.jsxs)("div",{className:"flex justify-between mt-2 gap-0.5 font-medium text-blue text-[.84rem]",children:[(0,n.jsx)("span",{className:"text-blue",children:"Discount"}),(0,n.jsxs)("span",{className:"font-semibold",children:[(0,n.jsxs)("span",{className:"rs font-semibold",children:["- AED ",w(r)]})," "]})]}),(0,n.jsxs)("div",{className:"flex justify-between mt-2 gap-0.5 font-medium text-[#6C7275] text-[.84rem]",children:[(0,n.jsx)("span",{className:"text-[#6C7275]",children:"Tax"}),(0,n.jsx)("span",{className:"font-semibold",children:(0,n.jsxs)("span",{className:"rs font-semibold",children:["AED ",w(s)]})})]}),(0,n.jsx)("div",{className:"flex w-full my-3 mx-auto h-[0.7px] bg-gray/70"}),(0,n.jsx)("div",{className:"flex flex-col gap-5 pb-3",children:(0,n.jsxs)("div",{className:"flex justify-between mt-2 gap-0.5 text-[#6C7275] text-[.84rem]",children:[(0,n.jsx)("span",{className:"text-black font-bold",children:"Total"}),(0,n.jsx)("span",{className:"font-semibold",children:(0,n.jsxs)("span",{className:"rs text-black",children:["AED ",w(t)]})})]})}),x?(0,n.jsx)("button",{onClick:x,className:"flex bg-blue capitalize items-center font-medium text-white justify-center h-12 rounded-lg gap-2 text-[0.94rem]",children:j?(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)("div",{className:"h-5 w-5 animate-spin rounded-full border-b-2 border-white"}),(0,n.jsx)("span",{className:"whitespace-nowrap",children:"Proceeding to payment"})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(h,{className:"h-5"}),"Continue to Payment"]})}):(0,n.jsxs)(l(),{href:"/checkout",className:"flex bg-blue capitalize items-center font-medium text-white justify-center h-12 rounded-lg gap-2 text-[0.94rem]",children:["Continue to Checkout ",(0,n.jsx)(v.A,{className:"h-5"})]}),f?(0,n.jsx)("button",{onClick:g,className:"flex bg-red-500 mt-2 capitalize text-white items-center font-bold justify-center h-12 rounded-lg gap-2 text-[0.94rem]",children:N?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"h-5 w-5 animate-spin rounded-full border-b-2 border-white"}),"Proceeding..."]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(b,{className:"h-5"}),"Cash on delivery"]})}):null]})})})}j.propTypes={subtotal:y().number.isRequired,totalAmount:y().number.isRequired,discountAmount:y().number.isRequired,taxAmount:y().number.isRequired,setPopupOpen:y().func.isRequired,code:y().string.isRequired,setCode:y().func.isRequired,setSelectedCoupon:y().func.isRequired,selectedCoupon:y().shape({id:y().oneOfType([y().string,y().number]).isRequired}),createPaymentIntent:y().func.isRequired,havingDefaultAddress:y().bool.isRequired,cashOnDelivery:y().func.isRequired,type:y().string.isRequired,paymentIntentLoader:y().bool.isRequired,loader:y().bool.isRequired};var N=r(43710),P=r(52263),w=r(37128),C=r(81590),S=r(52315),k=r(32708),E=r(24834),_=r(60656),q=r(98921),F=r(47620),A=r(44967),O=r(2548),R=r(26612),I=r(39857),T=r(5849),M=r(41178),D=r(44685),B=r(72723),X=r(69334),L=r(65066),H=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(H||{}),z=(e=>(e[e.TogglePopover=0]="TogglePopover",e[e.ClosePopover=1]="ClosePopover",e[e.SetButton=2]="SetButton",e[e.SetButtonId=3]="SetButtonId",e[e.SetPanel=4]="SetPanel",e[e.SetPanelId=5]="SetPanelId",e))(z||{});let G={0:e=>{let t={...e,popoverState:(0,D.Y)(e.popoverState,{0:1,1:0})};return 0===t.popoverState&&(t.__demoMode=!1),t},1:e=>1===e.popoverState?e:{...e,popoverState:1},2:(e,t)=>e.button===t.button?e:{...e,button:t.button},3:(e,t)=>e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId},4:(e,t)=>e.panel===t.panel?e:{...e,panel:t.panel},5:(e,t)=>e.panelId===t.panelId?e:{...e,panelId:t.panelId}},U=(0,a.createContext)(null);function $(e){let t=(0,a.useContext)(U);if(null===t){let t=Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,$),t}return t}U.displayName="PopoverContext";let Y=(0,a.createContext)(null);function K(e){let t=(0,a.useContext)(Y);if(null===t){let t=Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,K),t}return t}Y.displayName="PopoverAPIContext";let Q=(0,a.createContext)(null);function W(){return(0,a.useContext)(Q)}Q.displayName="PopoverGroupContext";let V=(0,a.createContext)(null);function Z(e,t){return(0,D.Y)(t.type,G,e,t)}V.displayName="PopoverPanelContext";let J=X.O5.RenderStrategy|X.O5.Static,ee=X.O5.RenderStrategy|X.O5.Static,et=Object.assign((0,X.FX)(function(e,t){var r;let{__demoMode:n=!1,...s}=e,l=(0,a.useRef)(null),o=(0,A.P)(t,(0,A.a)(e=>{l.current=e})),i=(0,a.useRef)([]),c=(0,a.useReducer)(Z,{__demoMode:n,popoverState:+!n,buttons:i,button:null,buttonId:null,panel:null,panelId:null,beforePanelSentinel:(0,a.createRef)(),afterPanelSentinel:(0,a.createRef)()}),[{popoverState:u,button:d,buttonId:p,panel:m,panelId:x,beforePanelSentinel:f,afterPanelSentinel:h},v]=c,b=(0,_.g)(null!=(r=l.current)?r:d),g=(0,a.useMemo)(()=>{if(!d||!m)return!1;for(let e of document.querySelectorAll("body > *"))if(Number(null==e?void 0:e.contains(d))^Number(null==e?void 0:e.contains(m)))return!0;let e=(0,M.iq)(),t=e.indexOf(d),r=(t+e.length-1)%e.length,n=(t+1)%e.length,s=e[r],l=e[n];return!m.contains(s)&&!m.contains(l)},[d,m]),y=(0,k.Y)(p),j=(0,k.Y)(x),C=((0,a.useMemo)(()=>({buttonId:y,panelId:j,close:()=>v({type:1})}),[y,j,v]),W()),S=(null==C||C.registerPopover,(0,P._)(()=>{var e;return null!=(e=null==C?void 0:C.isFocusWithinPopoverGroup())?e:(null==b?void 0:b.activeElement)&&((null==d?void 0:d.contains(b.activeElement))||(null==m?void 0:m.contains(b.activeElement)))})),[q,O]=(0,N.k)(),R=(0,F.i)({mainTreeNodeRef:null==C?void 0:C.mainTreeNodeRef,portals:q,defaultContainers:[d,m]});(0,w.M)(null==b?void 0:b.defaultView,"focus",e=>{var t,r,n,s;e.target!==window&&e.target instanceof HTMLElement&&0===u&&(S()||d&&m&&(R.contains(e.target)||null!=(r=null==(t=f.current)?void 0:t.contains)&&r.call(t,e.target)||null!=(s=null==(n=h.current)?void 0:n.contains)&&s.call(n,e.target)||v({type:1})))},!0),(0,E.j)(R.resolveContainers,(e,t)=>{v({type:1}),(0,M.Bm)(t,M.MZ.Loose)||(e.preventDefault(),null==d||d.focus())},0===u);let T=(0,P._)(e=>{v({type:1});let t=e?e instanceof HTMLElement?e:"current"in e&&e.current instanceof HTMLElement?e.current:d:d;null==t||t.focus()}),B=(0,a.useMemo)(()=>({close:T,isPortalled:g}),[T,g]),L=(0,a.useMemo)(()=>({open:0===u,close:T}),[u,T]);return a.createElement(V.Provider,{value:null},a.createElement(U.Provider,{value:c},a.createElement(Y.Provider,{value:B},a.createElement(I.El,{value:(0,D.Y)(u,{0:I.Uw.Open,1:I.Uw.Closed})},a.createElement(O,null,(0,X.XX)({ourProps:{ref:o},theirProps:s,slot:L,defaultTag:"div",name:"Popover"}),a.createElement(R.MainTreeNode,null))))))}),{Button:(0,X.FX)(function(e,t){let r=(0,C.B)(),{id:n=`headlessui-popover-button-${r}`,...s}=e,[l,o]=$("Popover.Button"),{isPortalled:i}=K("Popover.Button"),c=(0,a.useRef)(null),u=`headlessui-focus-sentinel-${(0,C.B)()}`,d=W(),p=null==d?void 0:d.closeOthers,m=null!==(0,a.useContext)(V),[x]=(0,a.useState)(()=>Symbol()),f=(0,A.P)(c,t,m?null:e=>{if(e)l.buttons.current.push(x);else{let e=l.buttons.current.indexOf(x);-1!==e&&l.buttons.current.splice(e,1)}l.buttons.current.length>1&&console.warn("You are already using a <Popover.Button /> but only 1 <Popover.Button /> is supported."),e&&o({type:2,button:e})}),h=(0,A.P)(c,t),v=(0,_.g)(c),b=(0,P._)(e=>{var t,r,n;if(m){if(1===l.popoverState)return;switch(e.key){case L.D.Space:case L.D.Enter:e.preventDefault(),null==(r=(t=e.target).click)||r.call(t),o({type:1}),null==(n=l.button)||n.focus()}}else switch(e.key){case L.D.Space:case L.D.Enter:e.preventDefault(),e.stopPropagation(),1===l.popoverState&&(null==p||p(l.buttonId)),o({type:0});break;case L.D.Escape:if(0!==l.popoverState)return null==p?void 0:p(l.buttonId);if(!c.current||null!=v&&v.activeElement&&!c.current.contains(v.activeElement))return;e.preventDefault(),e.stopPropagation(),o({type:1})}}),g=(0,P._)(e=>{m||e.key===L.D.Space&&e.preventDefault()}),y=(0,P._)(t=>{var r,n;(0,T.l)(t.currentTarget)||e.disabled||(m?(o({type:1}),null==(r=l.button)||r.focus()):(t.preventDefault(),t.stopPropagation(),1===l.popoverState&&(null==p||p(l.buttonId)),o({type:0}),null==(n=l.button)||n.focus()))}),j=(0,P._)(e=>{e.preventDefault(),e.stopPropagation()}),N=0===l.popoverState,w=(0,a.useMemo)(()=>({open:N}),[N]),S=(0,q.c)(e,c),k=m?{ref:h,type:S,onKeyDown:b,onClick:y}:{ref:f,id:l.buttonId,type:S,"aria-expanded":0===l.popoverState,"aria-controls":l.panel?l.panelId:void 0,onKeyDown:b,onKeyUp:g,onClick:y,onMouseDown:j},E=(0,O.u)(),F=(0,P._)(()=>{let e=l.panel;e&&(0,D.Y)(E.current,{[O.O.Forwards]:()=>(0,M.CU)(e,M.BD.First),[O.O.Backwards]:()=>(0,M.CU)(e,M.BD.Last)})===M.Me.Error&&(0,M.CU)((0,M.iq)().filter(e=>"true"!==e.dataset.headlessuiFocusGuard),(0,D.Y)(E.current,{[O.O.Forwards]:M.BD.Next,[O.O.Backwards]:M.BD.Previous}),{relativeTo:l.button})});return a.createElement(a.Fragment,null,(0,X.XX)({ourProps:k,theirProps:s,slot:w,defaultTag:"button",name:"Popover.Button"}),N&&!m&&i&&a.createElement(R.j,{id:u,features:R.O.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:F}))}),Overlay:(0,X.FX)(function(e,t){let r=(0,C.B)(),{id:n=`headlessui-popover-overlay-${r}`,...s}=e,[{popoverState:l},o]=$("Popover.Overlay"),i=(0,A.P)(t),c=(0,I.O_)(),u=null!==c?(c&I.Uw.Open)===I.Uw.Open:0===l,d=(0,P._)(e=>{if((0,T.l)(e.currentTarget))return e.preventDefault();o({type:1})}),p=(0,a.useMemo)(()=>({open:0===l}),[l]);return(0,X.XX)({ourProps:{ref:i,id:n,"aria-hidden":!0,onClick:d},theirProps:s,slot:p,defaultTag:"div",features:J,visible:u,name:"Popover.Overlay"})}),Panel:(0,X.FX)(function(e,t){let r=(0,C.B)(),{id:n=`headlessui-popover-panel-${r}`,focus:s=!1,...l}=e,[o,i]=$("Popover.Panel"),{close:c,isPortalled:u}=K("Popover.Panel"),d=`headlessui-focus-sentinel-before-${(0,C.B)()}`,p=`headlessui-focus-sentinel-after-${(0,C.B)()}`,m=(0,a.useRef)(null),x=(0,A.P)(m,t,e=>{i({type:4,panel:e})}),f=(0,_.g)(m),h=(0,X.cq)();(0,S.s)(()=>(i({type:5,panelId:n}),()=>{i({type:5,panelId:null})}),[n,i]);let v=(0,I.O_)(),b=null!==v?(v&I.Uw.Open)===I.Uw.Open:0===o.popoverState,g=(0,P._)(e=>{var t;if(e.key===L.D.Escape){if(0!==o.popoverState||!m.current||null!=f&&f.activeElement&&!m.current.contains(f.activeElement))return;e.preventDefault(),e.stopPropagation(),i({type:1}),null==(t=o.button)||t.focus()}}),y=(0,a.useMemo)(()=>({open:0===o.popoverState,close:c}),[o,c]),j={ref:x,id:n,onKeyDown:g,onBlur:s&&0===o.popoverState?e=>{var t,r,n,s,l;let a=e.relatedTarget;a&&m.current&&(null!=(t=m.current)&&t.contains(a)||(i({type:1}),(null!=(n=null==(r=o.beforePanelSentinel.current)?void 0:r.contains)&&n.call(r,a)||null!=(l=null==(s=o.afterPanelSentinel.current)?void 0:s.contains)&&l.call(s,a))&&a.focus({preventScroll:!0})))}:void 0,tabIndex:-1},N=(0,O.u)(),w=(0,P._)(()=>{let e=m.current;e&&(0,D.Y)(N.current,{[O.O.Forwards]:()=>{var t;(0,M.CU)(e,M.BD.First)===M.Me.Error&&(null==(t=o.afterPanelSentinel.current)||t.focus())},[O.O.Backwards]:()=>{var e;null==(e=o.button)||e.focus({preventScroll:!0})}})}),k=(0,P._)(()=>{let e=m.current;e&&(0,D.Y)(N.current,{[O.O.Forwards]:()=>{var e;if(!o.button)return;let t=(0,M.iq)(),r=t.indexOf(o.button),n=t.slice(0,r+1),s=[...t.slice(r+1),...n];for(let t of s.slice())if("true"===t.dataset.headlessuiFocusGuard||null!=(e=o.panel)&&e.contains(t)){let e=s.indexOf(t);-1!==e&&s.splice(e,1)}(0,M.CU)(s,M.BD.First,{sorted:!1})},[O.O.Backwards]:()=>{var t;(0,M.CU)(e,M.BD.Previous)===M.Me.Error&&(null==(t=o.button)||t.focus())}})});return a.createElement(V.Provider,{value:n},b&&u&&a.createElement(R.j,{id:d,ref:o.beforePanelSentinel,features:R.O.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:w}),(0,X.XX)({mergeRefs:h,ourProps:j,theirProps:l,slot:y,defaultTag:"div",features:ee,visible:b,name:"Popover.Panel"}),b&&u&&a.createElement(R.j,{id:p,ref:o.afterPanelSentinel,features:R.O.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:k}))}),Group:(0,X.FX)(function(e,t){let r=(0,a.useRef)(null),n=(0,A.P)(r,t),[s,l]=(0,a.useState)([]),o=(0,F.x)(),i=(0,P._)(e=>{l(t=>{let r=t.indexOf(e);if(-1!==r){let e=t.slice();return e.splice(r,1),e}return t})}),c=(0,P._)(e=>(l(t=>[...t,e]),()=>i(e))),u=(0,P._)(()=>{var e;let t=(0,B.T)(r);if(!t)return!1;let n=t.activeElement;return!!(null!=(e=r.current)&&e.contains(n))||s.some(e=>{var r,s;return(null==(r=t.getElementById(e.buttonId.current))?void 0:r.contains(n))||(null==(s=t.getElementById(e.panelId.current))?void 0:s.contains(n))})}),d=(0,P._)(e=>{for(let t of s)t.buttonId.current!==e&&t.close()}),p=(0,a.useMemo)(()=>({registerPopover:c,unregisterPopover:i,isFocusWithinPopoverGroup:u,closeOthers:d,mainTreeNodeRef:o.mainTreeNodeRef}),[c,i,u,d,o.mainTreeNodeRef]),m=(0,a.useMemo)(()=>({}),[]);return a.createElement(Q.Provider,{value:p},(0,X.XX)({ourProps:{ref:n},theirProps:e,slot:m,defaultTag:"div",name:"Popover.Group"}),a.createElement(o.MainTreeNode,null))})});var er=r(57021),en=r(55533),es=r(99270),el=r(56085),ea=r(47033),eo=r(14952);function ei({setCurrentPage:e,currentPage:t,goToNextPage:r,goToPreviousPage:s,totalPages:l,pageNumbers:a}){return(0,n.jsx)("div",{className:"flex rounded-3xl w-fit h-12 text-zinc-700 bg-[#EBEDF4] mt-10 gap-10 items-center",children:(0,n.jsxs)("div",{className:"flex gap-3 items-center px-5",children:[(0,n.jsx)("button",{style:{color:1===t?"#1D589E":"#00000080"},disabled:1===t,onClick:s,className:"left text-[0.84rem] flex items-center justify-center font-medium",children:(0,n.jsx)(ea.A,{className:"h-5"})}),a.map(r=>(0,n.jsx)("button",{style:{backgroundColor:t===r?"#1D589E":"",color:t===r?"#fff":""},className:"left text-lime-700 h-7 w-7 text-sm flex items-center justify-center rounded-full",onClick:()=>e(r),disabled:t===r,children:r},r)),(0,n.jsx)("button",{style:{color:t===l?"#1D589E":"#00000080"},onClick:r,disabled:t===l,className:"right text-[0.84rem] font-medium flex items-center justify-center rounded-full",children:(0,n.jsx)(eo.A,{className:"h-5"})})]})})}function ec({popupOpen:e,setPopupOpen:t,code:r,setCode:s,setSelectedCoupon:l}){let[o,i]=(0,a.useState)(""),[u,d]=(0,a.useState)(1),[m,x]=(0,a.useState)(),{data:f}=(0,en.I)({queryKey:["couponListing",u,o],queryFn:()=>c.oE.get(c.WI,{params:{page:u,keyword:o}}).then(e=>e.data)}),h=(()=>{let e=Math.max(1,u-Math.floor(3.5)),t=Math.min(m,e+7-1),r=[];for(let n=e;n<=t;n++)r.push(n);return r})(),v=e=>{let t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),t.setSelectionRange(0,99999),document.execCommand("copy"),document.body.removeChild(t),p.Ay.success("Coupon code copied to clipboard!"),s(e)};return(0,n.jsx)(n.Fragment,{children:e&&(0,n.jsx)("div",{className:"fixed inset-0 bg-black/20 z-50 w-full h-full flex items-center justify-center",children:(0,n.jsx)(et,{className:"relative",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(er.e,{as:a.Fragment,show:e,enter:"transition ease-out duration-200",enterFrom:"opacity-0 translate-y-1",enterTo:"opacity-100 translate-y-0",leave:"transition ease-in duration-150",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 translate-y-1",children:(0,n.jsx)(et.Panel,{className:"w-[95%] mx-auto lg:w-full lg:min-w-[36rem] max-w-xl transform",children:(0,n.jsxs)("div",{className:"px-9 py-7 w-full bg-white rounded relative shadow-lg",children:[(0,n.jsx)("div",{className:"flex items-center justify-between",children:(0,n.jsx)("h5",{className:"text-[#2c2c2c] text-xl text-center tracking-[0.2px] font-bold",children:"Coupons"})}),(0,n.jsxs)("div",{className:"flex mt-5 border border-[#8B8B8B] w-full h-10 rounded-md overflow-hidden items-center px-2",children:[(0,n.jsx)(es.A,{className:"h-4 text-[#8B8B8B]"}),(0,n.jsx)("input",{type:"text",placeholder:"Search...",value:o,onChange:e=>{i(e.target.value)},className:"text-sm w-full px-2"})]}),(0,n.jsx)("div",{className:"flex text-sm overflow-y-auto pr-2 overflow-y-min h-80 max-h-80 flex-col mt-7 group gap-4",children:f?.data?.map(e=>n.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-between border gap-4 lg:gap-7 border-zinc-200 rounded px-5 h-fit py-3 lg:py-0 lg:h-24 lg:min-h-24",children:[n.jsx("div",{className:"flex items-center flex-col",children:n.jsxs("div",{className:"flex gap-5 items-center",children:[n.jsx("img",{className:"h-8 object-contain",src:"/coupon.png"}),n.jsxs("div",{className:"flex flex-col",children:[n.jsxs("span",{className:"font-semibold text-[0.9rem]",children:["Get discount of ",e?.discount," ",e?.discount_type=="percent"?"%":""]}),n.jsxs("span",{className:"hidden lg:block text-xs mt-1 font-medium text-red-500",children:["* Coupon will expire on ",e?.end_date]})]})]})}),n.jsx("button",{onClick:()=>{v(e?.code),localStorage.removeItem("coupon"),l("")},className:`text-[0.8rem] h-9 w-24 min-w-24 justify-center flex items-center gap-2 px-4 group-hover:text-yellow-100 text-white font-medium ${r===e?.code?"bg-yellow-600":"bg-blue/70"}`,children:r===e?.code?n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx(el.A,{className:"h-5"})," Copied"]}):n.jsx("span",{children:e?.code})}),n.jsxs("span",{className:"lg:hidden text-xs mt-1 font-medium text-red-500",children:["* Coupon will expire on ",e?.end_date]})]},e?.id))}),f?.data?.length>5?(0,n.jsx)("div",{className:"flex justify-end",children:(0,n.jsx)(ei,{setCurrentPage:d,currentPage:u,goToNextPage:()=>{u<m&&d(e=>e+1)},goToPreviousPage:()=>{u>1&&d(e=>e-1)},totalPages:m,pageNumbers:h})}):null,(0,n.jsx)("div",{className:"flex gap-4 mt-9",children:(0,n.jsx)("button",{onClick:()=>{t(!1)},className:"bg-black/20 w-40 rounded border bg-blue border-zinc-200 font-semibold flex items-center justify-center text-sm text-white h-10",children:"Close"})})]})})})})})})})}function eu(){let{user:e}=(0,d.k)(e=>({user:e.user})),{cartItems:t,removeItemFromCart:r}=(0,x.x)(e=>({cartItems:e.cartItems,removeItemFromCart:e.removeItemFromCart})),[l,f]=(0,a.useState)(0),[h,v]=(0,a.useState)(null),[b,g]=(0,a.useState)(0),[y,N]=(0,a.useState)(0),[P,w]=(0,a.useState)(0),[C,S]=(0,a.useState)(!1),[k,E]=(0,a.useState)(""),[_,q]=(0,a.useState)(""),[F,A]=(0,a.useState)(0),[O,R]=(0,a.useState)(0);console.log(F);let I=(0,m.A)(),T=(0,u.jE)(),M=async t=>{if(!e?.id){r(t),p.Ay.success("Item removed from cart");return}let n=new FormData;n.append("product_id",t),n.append("customer_id",e?.id);try{let e=await c.K0.post(c.LL,n);e?.data?.success===!0&&(r(t),T.invalidateQueries(["cartList"]),p.Ay.success(e?.data?.message))}catch(e){console.log(e),p.Ay.error("Failed to remove")}};return(0,n.jsxs)("div",{className:"min-h-fit h-full pb-20",children:[(0,n.jsx)("div",{className:"text-center text-[1.3rem] font-semibold py-4",children:"Your Cart"}),(0,n.jsxs)("div",{className:"relative flex-col itemce  lg:font-medium flex lg:flex-row gap-3 px-3 lg:gap-6 lg:pt-12 pt-3 sm:px-20 xl:px-48 bg-[#F3F5F7]",children:[(0,n.jsxs)("div",{className:"flex items-center pb-6 gap-2 border-b-2",children:[(0,n.jsx)("div",{className:"w-7",children:(0,n.jsx)("img",{src:"/cart/1.1.png",alt:"cart"})}),(0,n.jsx)("div",{className:"",children:"Shopping cart"})]}),(0,n.jsxs)("div",{className:"flex items-center pb-6 gap-2",children:[(0,n.jsx)("div",{className:"w-7",children:(0,n.jsx)("img",{src:"/cart/1.2.png",alt:"cart"})}),(0,n.jsx)("div",{className:"text-[#b1b5c3]",children:"Checkout details"})]}),(0,n.jsxs)("div",{className:" flex items-center pb-6 gap-2",children:[(0,n.jsx)("div",{className:"w-7",children:(0,n.jsx)("img",{src:"/cart/1.3.png",alt:"cart"})}),(0,n.jsx)("div",{className:"text-[#b1b5c3]",children:"Order complete"})]}),(0,n.jsx)("div",{className:"hidden absolute -top-11  right-44 col-span-3 justify-end lg:block items-center pb-6 gap-2",children:(0,n.jsx)("img",{src:"/cart/done.png",className:" lg:w-44 ",alt:"cart"})})]}),t?.length?(0,n.jsxs)("div",{className:"px-4 mt-7 mb-20 sm:px-10 xl:px-48 lg:grid lg:gap-5 flex flex-col lg:grid-cols-12",children:[(0,n.jsx)("div",{className:"flex flex-col col-span-7",children:(0,n.jsx)("div",{className:"overflow-x-auto overflow-x-min",children:(0,n.jsxs)("table",{className:"table",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{className:"font-bold text-black text-[.9rem] border-b-1 border-[#6C7275]",children:[(0,n.jsx)("th",{className:"",children:"Product"}),(0,n.jsx)("th",{children:"Quantity"}),(0,n.jsx)("th",{children:"Price"})]})}),(0,n.jsx)("tbody",{children:t?.map(t=>n.jsxs("tr",{children:[n.jsx("td",{children:n.jsxs("div",{className:" flex items-center gap-4",children:[n.jsx("div",{className:"avatar",children:n.jsx(s,{href:`/product/${t?.product_id}`,className:"mask w-12 border border-black/20 rounded-md overflow-hidden lg:w-20 lg:h-24",children:n.jsx("img",{className:"h-full w-full object-contain",src:t?.productImage,alt:t?.name})})}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsx(s,{href:`/product/${t?.product_id}`,className:"font-bold min-w-40 w-28 text-[.85rem]",children:t?.name})})]})}),n.jsx("td",{children:n.jsx(o.A,{quantity:t?.quantity,productId:t?.product_id,maxQuantity:t?.stock,customerId:e?.id,type:"inner"})}),n.jsx("td",{className:"text-[.75rem] font-semibold min-w-32 lg:min-w-28 p-1",children:n.jsxs("div",{className:"flex items-center gap-5",children:[n.jsxs("div",{className:"flex items-center",children:["AED ",I(t?.unit_price)]}),n.jsx("div",{className:"text-sm opacity-70",children:n.jsx("div",{onClick:()=>M(t?.product_id),className:"font-semibold flex gap-1 items-center cursor-pointer text-red-700",children:n.jsx(i.A,{className:"h-4 w-4"})})})]})})]},t?.product_id))})]})})}),(0,n.jsx)(j,{subtotal:l,totalAmount:y,discountAmount:P,taxAmount:b,setPopupOpen:S,code:_,setCode:q,setSelectedCoupon:E,selectedCoupon:k}),(0,n.jsx)(ec,{popupOpen:C,setPopupOpen:S,code:_,setCode:q,setSelectedCoupon:E})]}):(0,n.jsx)("img",{className:"h-40 mx-auto my-14 object-contain",src:"/cart/no-cart.png"})]})}ec.propTypes={popupOpen:y().bool.isRequired,setPopupOpen:y().func.isRequired,code:y().string.isRequired,setCode:y().func.isRequired,setSelectedCoupon:y().func.isRequired}},2548:(e,t,r)=>{"use strict";r.d(t,{O:()=>l,u:()=>a});var n=r(43210),s=r(52426),l=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(l||{});function a(){let e=(0,n.useRef)(0);return(0,s.M)("keydown",t=>{"Tab"===t.key&&(e.current=+!!t.shiftKey)},!0),e}},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},6795:(e,t,r)=>{Promise.resolve().then(r.bind(r,94418))},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},14952:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(75324).A)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21820:e=>{"use strict";e.exports=require("os")},24761:(e,t,r)=>{"use strict";r.d(t,{S:()=>l,a:()=>a});var n=r(43210);let s=(0,n.createContext)(!1);function l(){return(0,n.useContext)(s)}function a(e){return n.createElement(s.Provider,{value:e.force},e.children)}},26612:(e,t,r)=>{"use strict";r.d(t,{O:()=>s,j:()=>l});var n=r(69334),s=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(s||{});let l=(0,n.FX)(function(e,t){var r;let{features:s=1,...l}=e,a={ref:t,"aria-hidden":(2&s)==2||(null!=(r=l["aria-hidden"])?r:void 0),hidden:(4&s)==4||void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(4&s)==4&&(2&s)!=2&&{display:"none"}}};return(0,n.XX)({ourProps:a,theirProps:l,slot:{},defaultTag:"div",name:"Hidden"})})},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},37128:(e,t,r)=>{"use strict";r.d(t,{M:()=>s}),r(43210);var n=r(32708);function s(e,t,r,s){(0,n.Y)(r)}},43710:(e,t,r)=>{"use strict";r.d(t,{Z:()=>g,k:()=>b});var n=r(43210),s=r(51215),l=r(52263),a=r(52315),o=r(95031),i=r(60656),c=r(15319),u=r(44967),d=r(24761),p=r(99923),m=r(69334);let x=n.Fragment,f=n.Fragment,h=(0,n.createContext)(null),v=(0,n.createContext)(null);function b(){let e=(0,n.useContext)(v),t=(0,n.useRef)([]),r=(0,l._)(r=>(t.current.push(r),e&&e.register(r),()=>s(r))),s=(0,l._)(r=>{let n=t.current.indexOf(r);-1!==n&&t.current.splice(n,1),e&&e.unregister(r)}),a=(0,n.useMemo)(()=>({register:r,unregister:s,portals:t}),[r,s,t]);return[t,(0,n.useMemo)(()=>function({children:e}){return n.createElement(v.Provider,{value:a},e)},[a])]}let g=Object.assign((0,m.FX)(function(e,t){let r=(0,n.useRef)(null),l=(0,u.P)((0,u.a)(e=>{r.current=e}),t),f=(0,i.g)(r),b=function(e){let t=(0,d.S)(),r=(0,n.useContext)(h),s=(0,i.g)(e),[l,a]=(0,n.useState)(()=>{if(!t&&null!==r||p._.isServer)return null;let e=null==s?void 0:s.getElementById("headlessui-portal-root");if(e)return e;if(null===s)return null;let n=s.createElement("div");return n.setAttribute("id","headlessui-portal-root"),s.body.appendChild(n)});return l}(r),[g]=(0,n.useState)(()=>{var e;return p._.isServer?null:null!=(e=null==f?void 0:f.createElement("div"))?e:null}),y=(0,n.useContext)(v),j=(0,c.g)();return(0,a.s)(()=>{!b||!g||b.contains(g)||(g.setAttribute("data-headlessui-portal",""),b.appendChild(g))},[b,g]),(0,a.s)(()=>{if(g&&y)return y.register(g)},[y,g]),(0,o.X)(()=>{var e;b&&g&&(g instanceof Node&&b.contains(g)&&b.removeChild(g),b.childNodes.length<=0&&(null==(e=b.parentElement)||e.removeChild(b)))}),j&&b&&g?(0,s.createPortal)((0,m.XX)({ourProps:{ref:l},theirProps:e,defaultTag:x,name:"Portal"}),g):null}),{Group:(0,m.FX)(function(e,t){let{target:r,...s}=e,l={ref:(0,u.P)(t)};return n.createElement(h.Provider,{value:r},(0,m.XX)({ourProps:l,theirProps:s,defaultTag:f,name:"Popover.Group"}))})})},47033:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(75324).A)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},47620:(e,t,r)=>{"use strict";r.d(t,{i:()=>o,x:()=>i});var n=r(43210),s=r(26612),l=r(52263),a=r(60656);function o({defaultContainers:e=[],portals:t,mainTreeNodeRef:r}={}){var i;let c=(0,n.useRef)(null!=(i=null==r?void 0:r.current)?i:null),u=(0,a.g)(c),d=(0,l._)(()=>{var r,n,s;let l=[];for(let t of e)null!==t&&(t instanceof HTMLElement?l.push(t):"current"in t&&t.current instanceof HTMLElement&&l.push(t.current));if(null!=t&&t.current)for(let e of t.current)l.push(e);for(let e of null!=(r=null==u?void 0:u.querySelectorAll("html > *, body > *"))?r:[])e!==document.body&&e!==document.head&&e instanceof HTMLElement&&"headlessui-portal-root"!==e.id&&(e.contains(c.current)||e.contains(null==(s=null==(n=c.current)?void 0:n.getRootNode())?void 0:s.host)||l.some(t=>e.contains(t))||l.push(e));return l});return{resolveContainers:d,contains:(0,l._)(e=>d().some(t=>t.contains(e))),mainTreeNodeRef:c,MainTreeNode:(0,n.useMemo)(()=>function(){return null!=r?null:n.createElement(s.j,{features:s.O.Hidden,ref:c})},[c,r])}}function i(){let e=(0,n.useRef)(null);return{mainTreeNodeRef:e,MainTreeNode:(0,n.useMemo)(()=>function(){return n.createElement(s.j,{features:s.O.Hidden,ref:e})},[e])}}},53116:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>d,pages:()=>u,routeModule:()=>p,tree:()=>c});var n=r(65239),s=r(48088),l=r(88170),a=r.n(l),o=r(30893),i={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>o[e]);r.d(t,i);let c={children:["",{children:["cart",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,94418)),"D:\\buddyuae\\frontend\\app\\cart\\page.js"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,90478)),"D:\\buddyuae\\frontend\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,u=["D:\\buddyuae\\frontend\\app\\cart\\page.js"],d={require:r,loadChunk:()=>Promise.resolve()},p=new n.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/cart/page",pathname:"/cart",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},55591:e=>{"use strict";e.exports=require("https")},56085:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(75324).A)("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]])},60574:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var n=r(60687),s=r(43210),l=r(37590),a=r(30590),o=r(8693),i=r(73255);function c({quantity:e,productId:t,maxQuantity:r,customerId:c,type:u}){let{updateCartItemQuantity:d}=(0,i.x)(e=>({updateCartItemQuantity:e.updateCartItemQuantity})),[p,m]=(0,s.useState)(!1),x=(0,o.jE)(),f=async()=>{if(e>=r){(0,l.Ay)("Quantity exceeded available stock",{icon:"\uD83D\uDE15"});return}let n=e+1;m(!0),d(t,n),c&&await v(t,n),m(!1)},h=async()=>{let r=e>1?e-1:e;d(t,r),m(!0),c&&await v(t,r),m(!1)},v=async(e,t)=>{let r=new FormData;r.append("customer_id",c),r.append("product_id",e),r.append("quantity",t);try{let e=await a.K0.post(a.$0,r);e?.status===200&&x.invalidateQueries(["cart"])}catch(e){console.log(e)}};return(0,n.jsxs)("div",{className:` ${"inner"==u?"h-10 px-3 w-fit":"h-12 w-fit px-5"} flex text-blue font-medium text-[0.9rem] items-center gap-7 bg-[#F0F0F0] rounded-lg`,children:[(0,n.jsx)("span",{onClick:h,className:"cursor-pointer text-2xl",children:"-"}),(0,n.jsx)("span",{className:"w-3 font-bold",children:p?(0,n.jsx)("div",{className:"h-5 w-5 animate-spin rounded-full border-b-2 border-blue"}):e}),(0,n.jsx)("span",{onClick:f,className:"cursor-pointer text-xl",children:"+"})]})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},70334:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(75324).A)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},74075:e=>{"use strict";e.exports=require("zlib")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},82819:(e,t,r)=>{Promise.resolve().then(r.bind(r,404))},83997:e=>{"use strict";e.exports=require("tty")},94418:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\buddyuae\\\\frontend\\\\app\\\\cart\\\\page.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\buddyuae\\frontend\\app\\cart\\page.js","default")},94735:e=>{"use strict";e.exports=require("events")},95031:(e,t,r)=>{"use strict";r.d(t,{X:()=>l});var n=r(43210);r(39704);var s=r(52263);function l(e){(0,s._)(e),(0,n.useRef)(!1)}}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[957,635],()=>r(53116));module.exports=n})();